/*

  ________.__                        _____.___.___________
 /  _____/|  | _____    ____  ____   \__  |   |\__    ___/
/   \  ___|  | \__  \ _/ ___\/ __ \   /   |   |  |    |   
\    \_\  \  |__/ __ \\  \__\  ___/   \____   |  |    |   
 \______  /____(____  /\___  >___  >  / ______|  |____|   
        \/          \/     \/    \/   \/                  

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                        â•‘
â•‘  ## Created by GlaceYT!                                                â•‘
â•‘  ## Feel free to utilize any portion of the code                       â•‘
â•‘  ## DISCORD :  https://discord.com/invite/xQF9f9yUEM                   â•‘
â•‘  ## YouTube : https://www.youtube.com/@GlaceYt                         â•‘
â•‘                                                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


*/


const config = require("../config.js");
const { ActivityType } = require("discord.js");

module.exports = async (client) => {
    const { REST } = require("@discordjs/rest");
    const { Routes } = require("discord-api-types/v10");
    const rest = new REST({ version: "10" }).setToken(config.TOKEN || process.env.TOKEN);
    const statusMessages = ["äººã®ä¸€ç”Ÿã¯æœéœ§ã®ã‚ˆã†ã«ä¸€ç¬ã§ã€é‹å‘½ã¯è™šç„¡ã«å¿˜ã‚Œå»ã‚‰ã‚Œã‚‹ã‚ˆã†ã«å®šã‚ã‚‰ã‚Œã¦ã„ã‚‹"];

  
  let currentIndex = 0;
const channelId = '';

async function login() {
  try {
    await client.login(process.env.TOKEN);
    console.log(`\x1b[36m%s\x1b[0m`, `|    ğŸ‡ Logged in as ${client.user.tag}`);
  } catch (error) {
    console.error('Failed to log in:', error);
    process.exit(1);
  }
}

function updateStatusAndSendMessages() {
  const currentStatus = statusMessages[currentIndex];
  const nextStatus = statusMessages[(currentIndex + 1) % statusMessages.length];

  client.user.setPresence({
    activities: [{ name: currentStatus, type: ActivityType.Custom}],
    status: 'dnd',
  });

  
  const textChannel = client.channels.cache.get(channelId);

  if (textChannel instanceof TextChannel) {
   
    textChannel.send(`Bot status is: ${currentStatus}`);
  } else {

  }

  currentIndex = (currentIndex + 1) % statusMessages.length;
}


    (async () => {
        try {
            await rest.put(Routes.applicationCommands(client.user.id), {
                body: await client.commands,
            });
            console.log('\x1b[36m%s\x1b[0m', '|    ğŸš€ Commands Loaded successfully!');
        } catch (err) {
            console.log('\x1b[36m%s\x1b[0m', '|    âŒ Commands Failed To Load!');
        }
    })();

    console.log('\x1b[32m%s\x1b[0m', `|    ğŸŒ¼ Logged in as ${client.user.username}`);

    const activityType = ActivityType[config.activityType.charAt(0).toUpperCase() + config.activityType.slice(1).toLowerCase()];
    if (!activityType) {
        console.error(`Invalid activity type: ${config.activityType}`);
        return;
    }
    
    setInterval(() => client.user.setActivity('ç‰©èªãŒçµ‚ã‚ã‚Šã«è¿‘ã¥ãã«ã¤ã‚Œã¦ã€ãŠãã‚‰ãç§ãŸã¡ã¯ç‰©èªãŒå§‹ã¾ã£ãŸç¬é–“ã‚’æ€ã„å‡ºã—ã¾ã™ã€‚', { 
        name: config.activityName,
        type: config.activityType
    }), 10000);

    client.errorLog = config.errorLog;
};


/*

  ________.__                        _____.___.___________
 /  _____/|  | _____    ____  ____   \__  |   |\__    ___/
/   \  ___|  | \__  \ _/ ___\/ __ \   /   |   |  |    |   
\    \_\  \  |__/ __ \\  \__\  ___/   \____   |  |    |   
 \______  /____(____  /\___  >___  >  / ______|  |____|   
        \/          \/     \/    \/   \/                  

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                        â•‘
â•‘  ## Created by GlaceYT!                                                â•‘
â•‘  ## Feel free to utilize any portion of the code                       â•‘
â•‘  ## DISCORD :  https://discord.com/invite/xQF9f9yUEM                   â•‘
â•‘  ## YouTube : https://www.youtube.com/@GlaceYt                         â•‘
â•‘                                                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


*/

